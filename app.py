import streamlit as st

# ãƒšãƒ¼ã‚¸åŸºæœ¬è¨­å®š
st.set_page_config(page_title="ã‚­ãƒ£ã‚¹ãƒˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”Ÿæˆãƒ„ãƒ¼ãƒ«", layout="wide")

st.title("ğŸ’– ã‚­ãƒ£ã‚¹ãƒˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è‡ªå‹•ç”Ÿæˆï¼ˆå®Œå…¨ç‰ˆï¼‰")

# --- å…¥åŠ›ã‚¨ãƒªã‚¢ï¼šå·¦å´ã«åŸºæœ¬æƒ…å ±ã€å³å´ã«ç‰¹å¾´ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ ---
col_left, col_right = st.columns(2)

with col_left:
    st.subheader("åŸºæœ¬ã‚¹ãƒšãƒƒã‚¯")
    name = st.text_input("åå‰", "ã‚ã¿")
    age = st.number_input("å¹´é½¢", min_value=18, max_value=35, value=20)
    height = st.number_input("èº«é•· (cm)", min_value=140, max_value=180, value=158)
    
    st.write("3ã‚µã‚¤ã‚º / ã‚«ãƒƒãƒ—")
    c1, c2, c3, c4 = st.columns(4)
    with c1: b = st.number_input("B", value=85)
    with c2: w = st.number_input("W", value=58)
    with c3: h = st.number_input("H", value=86)
    with c4: cup = st.selectbox("Cup", ["A","B","C","D","E","F","G","Hä»¥ä¸Š"])

with col_right:
    st.subheader("ç‰¹å¾´ãƒ»ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰")
    visual = st.selectbox("â‘  ç³»çµ±ï¼ˆè¦‹ãŸç›®ï¼‰", [
        "ç¾äºº", "å¯æ„›ã„", "æ¸…æ¥š", "æ­£çµ±æ´¾", "é€æ˜æ„Ÿ", "ç™’ã—ç³»", "ã‚¢ã‚¤ãƒ‰ãƒ«ç³»", 
        "å°å‹•ç‰©ç³»", "ã‚®ãƒ£ãƒ«", "æ´¾æ‰‹", "åœ°é›·ãƒ»é‡ç”£å‹", "ã‚µãƒ–ã‚«ãƒ«å¥³å­", 
        "éŸ“å›½é¢¨", "ãƒãƒ¼ãƒ•é¡”", "ãƒœãƒ¼ã‚¤ãƒƒã‚·ãƒ¥", "ç¶ºéº—ãªãŠå§‰ã•ã‚“", "å¥³å­ã‚¢ãƒŠç³»", "ãƒ¢ãƒ‡ãƒ«ç³»"
    ])
    
    attr = st.selectbox("â‘¡ å±æ€§ï¼ˆç¾å½¹æ„Ÿï¼‰", ["ç¾å½¹æ„Ÿ", "ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥", "å¥³å­å¤§ç”Ÿ", "OL"])
    
    personality = st.selectbox("â‘¢ å‘³ä»˜ã‘ï¼ˆæ€§æ ¼ï¼‰", [
        "å¤©çœŸçˆ›æ¼«", "ãƒãƒªãŒè‰¯ã„", "ç¥å¯¾å¿œ", "èãä¸Šæ‰‹", "ãŠã£ã¨ã‚Š", 
        "çœŸé¢ç›®ãƒ»ä¸€ç”Ÿæ‡¸å‘½", "ç”˜ãˆã‚“åŠ", "äººæ‡ã£ã“ã„", "å°æ‚ªé­”", "ãƒ„ãƒ³ãƒ‡ãƒ¬"
    ])
    
    gap = st.selectbox("â‘£ ã‚®ãƒ£ãƒƒãƒ—è¦ç´ ", ["ãªã—", "å®Ÿã¯ã‚°ãƒ©ãƒãƒ©ã‚¹", "ãƒã‚·ãƒ¥ãƒãƒ­è‚Œãƒ»ãƒœãƒ‡ã‚£", "å®Ÿã¯ç©æ¥µçš„"])

# --- ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ ---
def generate_full_profile():
    # ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†
    header = f"ã€{visual} Ã— {attr}ã€‘{name} ({age})\n"
    spec = f"T{height} / B{b}({cup}) / W{w} / H{h}\n"
    line = "----------------------------\n"
    
    # æœ¬æ–‡ã®æ§‹ç¯‰
    body = (
        f"åœ§å€’çš„ãªã€Œ{visual}ã€ã®ã‚ªãƒ¼ãƒ©ã‚’çºã„ã¤ã¤ã€{attr}ãªã‚‰ã§ã¯ã®åˆã€…ã—ã•ã¨ã€"
        f"ã€Œ{personality}ã€ãªä¸€é¢ã‚’ä½µã›æŒã¤ã€ä»Šå¤§æ³¨ç›®ã®å¥³ã®å­ã§ã™ã€‚\n\n"
        f"ãŠè©±ã—ã—ã¦ã„ã‚‹ã ã‘ã§å¿ƒãŒæ´—ã‚ã‚Œã‚‹ã‚ˆã†ãªã€Œ{visual}ã€ã®é­…åŠ›ã¯ã‚‚ã¡ã‚ã‚“ã€"
        f"æ¥å®¢ã‚¹ã‚¿ã‚¤ãƒ«ã‚‚éå¸¸ã«ä¸å¯§ã§{personality}ãªã®ãŒç‰¹å¾´ã§ã™ã€‚"
    )

    # ã‚®ãƒ£ãƒƒãƒ—è¦ç´ ã®å‡¦ç†ï¼ˆã”è¦æœ›é€šã‚Šãƒã‚¸ãƒ†ã‚£ãƒ–å¤‰æ›ï¼‰
    gap_text = ""
    if gap in ["å®Ÿã¯ã‚°ãƒ©ãƒãƒ©ã‚¹", "ãƒã‚·ãƒ¥ãƒãƒ­è‚Œãƒ»ãƒœãƒ‡ã‚£"]:
        gap_text = (
            f"\n\nä¸€è¦‹ã™ã‚‹ã¨{visual}ã§ã‚¹ãƒ¬ãƒ³ãƒ€ãƒ¼ãªå°è±¡ã‚’ä¸ãˆã¾ã™ãŒã€"
            f"è„±ã„ã ã‚‰å®Ÿã¯èª°ã‚‚ãŒç¾¨ã‚€ã€Œ{gap}ã€ã‚’éš ã—æŒã£ã¦ã„ã‚‹ã¨ã„ã†ã€æœ€é«˜ã®ã‚®ãƒ£ãƒƒãƒ—ã®æŒã¡ä¸»ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚"
        )
    elif gap == "å®Ÿã¯ç©æ¥µçš„":
        gap_text = (
            f"\n\næ™®æ®µã¯{personality}ã§æ§ãˆã‚ãªå°è±¡ã§ã™ãŒã€"
            f"äºŒäººãã‚Šã«ãªã‚‹ã¨ã€Œ{gap}ã€ãªå§¿ã‚’è¦‹ã›ã¦ãã‚Œã‚‹ã“ã¨ã‚‚â€¦ã€‚"
        )
    else:
        gap_text = f"\n\nãã®{attr}ã‚‰ã—ã„ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãªé­…åŠ›ã«ã€èª°ã‚‚ãŒç™’ã•ã‚Œã‚‹ã“ã¨é–“é•ã„ã‚ã‚Šã¾ã›ã‚“ã€‚"

    return f"{header}{spec}{line}{body}{gap_text}"

# --- å‡ºåŠ›ã‚¨ãƒªã‚¢ ---
st.markdown("---")
if st.button("ã“ã®å†…å®¹ã§ç´¹ä»‹æ–‡ã‚’ç”Ÿæˆã™ã‚‹"):
    final_result = generate_full_profile()
    st.text_area("ç”Ÿæˆçµæœ", value=final_result, height=400)
    st.success("å¹´é½¢ãƒ»ã‚µã‚¤ã‚ºãƒ»ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ã™ã¹ã¦çµ±åˆã—ã¦ç”Ÿæˆã—ã¾ã—ãŸï¼")
